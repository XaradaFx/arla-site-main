<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bem-vindo √† Dimens√£o Arla</title>
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@700&display=swap" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.11.1/tsparticles.bundle.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Comfortaa', cursive;
      background: linear-gradient(145deg, #0f0f1c, #181836);
      height: 100vh;
      overflow: hidden;
      position: relative;
      animation: pulseBackground 20s ease-in-out infinite;
    }

    #loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: #0f0f1c;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }

    #loader h1 {
      color: #00ffe7;
      font-size: 2rem;
      text-shadow: 0 0 15px #00fff0;
      animation: pulseText 1.2s ease-in-out infinite;
    }

    @keyframes pulseText {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }

    @keyframes pulseBackground {
      0%, 100% { background: linear-gradient(145deg, #0f0f1c, #181836); }
      50% { background: linear-gradient(145deg, #111122, #1e1e3e); }
    }

    #tsparticles {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: 1;
      pointer-events: none;
    }

    .container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 60px;
      height: 100vh;
      position: relative;
      z-index: 2;
      opacity: 0;
      transform: scale(0.9);
      animation: none;
    }

    .container.show {
      animation: zoomIn 1.2s ease-in-out forwards;
    }

    @keyframes zoomIn {
      0% { opacity: 0; transform: scale(0.9); }
      100% { opacity: 1; transform: scale(1); }
    }

    .arla-img {
      height: 85vh;
      max-height: 650px;
      animation: float 6s ease-in-out infinite, glowPulse 4s ease-in-out infinite, fadeSlideLeft 1.2s ease-out;
      filter: drop-shadow(0 0 30px rgba(0,255,170,0.4));
    }

    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-15px); }
      100% { transform: translateY(0px); }
    }

    @keyframes glowPulse {
      0%, 100% { filter: drop-shadow(0 0 30px rgba(0,255,170,0.4)); }
      50% { filter: drop-shadow(0 0 50px rgba(0,255,255,0.6)); }
    }

    @keyframes fadeSlideLeft {
      from { opacity: 0; transform: translateX(-50px); }
      to { opacity: 1; transform: translateX(0); }
    }

    .right-side {
      color: white;
      max-width: 500px;
      text-align: center;
      animation: fadeSlideRight 1.2s ease-out;
    }

    @keyframes fadeSlideRight {
      from { opacity: 0; transform: translateX(50px); }
      to { opacity: 1; transform: translateX(0); }
    }

    .right-side h1 {
      font-size: 3.8rem;
      margin-bottom: 15px;
      background: linear-gradient(90deg, #00fff0, #00ff88);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 12px rgba(0,255,170,0.3);
    }

    .right-side p {
      font-size: 1.3rem;
      margin-bottom: 30px;
      color: #b6ffe7;
    }

    .buttons a {
      display: inline-block;
      margin: 10px 10px 0 0;
      padding: 16px 28px;
      font-size: 1.1rem;
      color: white;
      text-decoration: none;
      border-radius: 14px;
      font-weight: 600;
      background: linear-gradient(135deg, #00ffbb, #0077ff);
      box-shadow: 0 0 15px rgba(0, 255, 170, 0.5);
      transition: transform 0.2s ease, box-shadow 0.3s ease;
      animation: slideUpFade 1s ease forwards;
      opacity: 0;
    }

    .buttons a:nth-child(1) { animation-delay: 0.3s; }
    .buttons a:nth-child(2) { animation-delay: 0.5s; }
    .buttons a:nth-child(3) { animation-delay: 0.7s; }
    .buttons a:nth-child(4) { animation-delay: 0.9s; }
    .buttons a:nth-child(5) { animation-delay: 1.1s; }
    .buttons a:nth-child(6) { animation-delay: 1.3s; }

    @keyframes slideUpFade {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
  </style>
</head>
<body>
  <div id="loader"><h1>üåÄ Entrando na Dimens√£o Arla...</h1></div>

  <div id="tsparticles"></div>

  <div class="container">
    <img class="arla-img" src="https://i.imgur.com/b2kQp0Y.png" alt="Arla Sci-Fi">
    <div class="right-side">
      <h1>Bem-vindo √† <strong>Dimens√£o Arla</strong></h1>
      <p>Explore seu universo com um clique!</p>
      <div class="buttons">
        <a href="battlepass.html">üéØ Passe de Batalha</a>
        <a href="perfil.html">üë§ Perfil do Usu√°rio</a>
        <a href="ranking_xp.html">üèÜ Ranking de XP</a>
        <a href="ranking_tempo.html">‚è≥ Ranking de Tempo em Call</a>
        <a href="carteira.html">üíº Carteira de Xaracoins</a>
        <a href="fanclub.html">üåü F√£ Club da Arla</a>
      </div>
    </div>
  </div>

  <audio id="hoverSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_0b1d8a0460.mp3"></audio>
  <audio id="clickSound" src="https://cdn.pixabay.com/audio/2022/03/15/audio_b3376f3d4d.mp3"></audio>

  <script>
    setTimeout(() => {
      document.getElementById("loader").style.display = "none";
      const container = document.querySelector(".container");
      container.classList.add("show");
    }, 2800);

    tsParticles.load("tsparticles", {
      fullScreen: { enable: false },
      background: { color: "transparent" },
      particles: {
        number: { value: 100, density: { enable: true, area: 800 } },
        color: { value: ["#00ffe7", "#00ff88", "#00aaff", "#ffffff"] },
        shape: { type: ["circle", "triangle", "star", "polygon"] },
        opacity: {
          value: 0.6,
          random: true,
          anim: { enable: true, speed: 1, opacity_min: 0.1, sync: false }
        },
        size: {
          value: { min: 2, max: 6 },
          random: true,
          anim: { enable: true, speed: 4, size_min: 0.3, sync: false }
        },
        links: {
          enable: true,
          distance: 140,
          color: "#00ffee",
          opacity: 0.4,
          width: 1
        },
        move: {
          enable: true,
          speed: 1.6,
          direction: "none",
          outModes: "bounce"
        }
      }
    });

    const hoverSound = document.getElementById("hoverSound");
    const clickSound = document.getElementById("clickSound");
    const links = document.querySelectorAll(".buttons a");

    links.forEach(link => {
      link.addEventListener("mouseenter", () => {
        hoverSound.currentTime = 0;
        hoverSound.play();
      });
      link.addEventListener("click", (e) => {
        clickSound.currentTime = 0;
        clickSound.play();
      });
    });
  </script>
<!-- Aqui √© a vers√£o com o sistema de voz ativ√°vel que ser√° adicionado logo abaixo no <body> -->
<!-- A estrutura base j√° est√° pronta, ent√£o vamos incluir o reconhecimento de voz -->
<!-- Esta atualiza√ß√£o s√≥ adiciona o bot√£o de microfone com feedback de fala -->

<!-- Dentro do <body>, antes do fechamento, vamos adicionar o bot√£o e script de voz -->

<!-- Bot√£o de microfone -->
<button id="voiceBtn" style="
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: linear-gradient(135deg, #8c52ff, #4ef2f2);
  border: none;
  padding: 15px;
  border-radius: 50%;
  box-shadow: 0 0 20px rgba(0,255,255,0.6);
  cursor: pointer;
  z-index: 10000;
">
  üéôÔ∏è
</button>

<script>
  const voiceBtn = document.getElementById("voiceBtn");

  if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognition = new SpeechRecognition();
    recognition.lang = 'pt-BR';
    recognition.interimResults = false;

    voiceBtn.addEventListener('click', () => {
      recognition.start();
    });

    recognition.onresult = (event) => {
      const comando = event.results[0][0].transcript.toLowerCase();
      console.log('Voc√™ disse:', comando);

      let resposta = "";
      if (comando.includes("o que posso fazer")) {
        resposta = "Voc√™ pode acessar seu perfil, ver rankings ou explorar o passe de batalha.";
      } else if (comando.includes("quem √© voc√™")) {
        resposta = "Eu sou a Arla, sua assistente c√≥smica de aventuras interdimensionais.";
      } else {
        resposta = "Desculpa, n√£o entendi! Tenta perguntar de novo.";
      }

      const synth = window.speechSynthesis;
      const utterance = new SpeechSynthesisUtterance(resposta);
      utterance.lang = 'pt-BR';
      synth.speak(utterance);
    };

    recognition.onerror = (event) => {
      console.error("Erro na fala:", event.error);
    };
  } else {
    voiceBtn.style.display = 'none';
    console.warn("Reconhecimento de voz n√£o suportado neste navegador.");
  }
</script>
<div id="loginOverlay" style="
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(15, 15, 28, 0.95);
  backdrop-filter: blur(6px);
  z-index: 9998;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  color: #00ffee;
  font-family: 'Comfortaa', cursive;
  text-align: center;
  animation: fadeIn 1s ease-in-out;
">
  <h2 style="font-size: 2.2rem; margin-bottom: 20px; text-shadow: 0 0 10px #00fff0;">
    üëæ Acessando Dimens√£o Arla...
  </h2>
  <button id="entrarBtn" style="
    background: linear-gradient(135deg, #00ffcc, #00aaff);
    border: none;
    padding: 14px 28px;
    border-radius: 12px;
    font-size: 1.2rem;
    font-weight: bold;
    color: black;
    cursor: pointer;
    box-shadow: 0 0 18px rgba(0,255,255,0.6);
    transition: all 0.3s ease;
  ">
    üöÄ Entrar agora
  </button>
</div>

<script>
  const loginOverlay = document.getElementById("loginOverlay");
  const entrarBtn = document.getElementById("entrarBtn");

  entrarBtn.addEventListener("click", () => {
    loginOverlay.style.opacity = "0";
    setTimeout(() => {
      loginOverlay.style.display = "none";
    }, 600);
  });
</script>

<!-- Bot√£o de microfone -->
<button id="voiceBtn" style="
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: linear-gradient(135deg, #8c52ff, #4ef2f2);
  border: none;
  padding: 15px;
  border-radius: 50%;
  box-shadow: 0 0 20px rgba(0,255,255,0.6);
  cursor: pointer;
  z-index: 10000;
">
  üéôÔ∏è
</button>

<script>
  const voiceBtn = document.getElementById("voiceBtn");

  if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {
    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
    const recognition = new SpeechRecognition();
    recognition.lang = 'pt-BR';
    recognition.interimResults = false;

    voiceBtn.addEventListener('click', () => {
      recognition.start();
    });

    recognition.onresult = (event) => {
      const comando = event.results[0][0].transcript.toLowerCase();
      console.log('Voc√™ disse:', comando);

      let resposta = "";
      if (comando.includes("o que posso fazer")) {
        resposta = "Voc√™ pode acessar seu perfil, ver rankings ou explorar o passe de batalha.";
      } else if (comando.includes("quem √© voc√™")) {
        resposta = "Eu sou a Arla, sua assistente c√≥smica de aventuras interdimensionais.";
      } else {
        resposta = "Desculpa, n√£o entendi! Tenta perguntar de novo.";
      }

      const synth = window.speechSynthesis;
      const utterance = new SpeechSynthesisUtterance(resposta);
      utterance.lang = 'pt-BR';
      synth.speak(utterance);
    };

    recognition.onerror = (event) => {
      console.error("Erro na fala:", event.error);
    };
  } else {
    voiceBtn.style.display = 'none';
    console.warn("Reconhecimento de voz n√£o suportado neste navegador.");
  }
</script>
<style>
  .borda-discord {
    position: fixed;
    width: 100%;
    height: 40px;
    background: linear-gradient(to right, #5865F2, #7289DA);
    color: white;
    font-family: 'Comfortaa', cursive;
    font-size: 1rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9997;
    text-shadow: 0 0 3px #000;
  }
  .borda-discord.top {
    top: 0;
  }
  .borda-discord.bottom {
    bottom: 0;
  }
  .borda-discord a {
    color: #ffffff;
    text-decoration: none;
    margin-left: 8px;
    font-weight: bold;
    transition: color 0.3s ease, text-shadow 0.3s ease;
  }
  .borda-discord a:hover {
    color: #ffda6a;
    text-shadow: 0 0 5px #ffffff;
  }

  .arla-img:hover {
    filter: drop-shadow(0 0 40px rgba(0, 255, 255, 0.7));
    transform: scale(1.02);
    transition: all 0.3s ease;
  }

  .buttons a:hover {
    transform: scale(1.08);
    box-shadow: 0 0 25px rgba(0, 255, 255, 0.9);
  }

  .buttons a {
    position: relative;
  }

  .buttons a::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, 0.07);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s;
  }

  .scan-line:hover ~ .buttons a::after {
    opacity: 1;
  }

  .hud-status {
    position: fixed;
    left: 20px;
    top: 60px;
    background: rgba(0,0,0,0.6);
    padding: 10px 16px;
    border: 2px solid #00ffe7;
    border-radius: 12px;
    font-family: 'Comfortaa', cursive;
    color: #00ffe7;
    font-size: 0.9rem;
    z-index: 9996;
    box-shadow: 0 0 12px rgba(0,255,255,0.4);
  }

  .scan-line {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to bottom, rgba(255,255,255,0.1) 0%, transparent 100%);
    animation: scan 8s linear infinite;
    z-index: 1;
    pointer-events: none;
  }

  @keyframes scan {
    0% { transform: translateY(-100%); }
    100% { transform: translateY(100%); }
  }

  body::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image: url('https://cdn.pixabay.com/photo/2015/11/10/10/56/space-1039882_1280.jpg');
    background-size: cover;
    background-position: center;
    opacity: 0.05;
    z-index: 0;
  }
</style>

<div class="borda-discord top">
  üì¢ Acesse nosso Discord oficial da Dimens√£o Arla:
  <a href="https://discord.gg/xaradafx" target="_blank">discord.gg/xaradafx</a>
</div>
<div class="borda-discord bottom">
  üõ∞Ô∏è Junte-se √† nossa comunidade intergal√°ctica no Discord:
  <a href="https://discord.gg/xaradafx" target="_blank">discord.gg/xaradafx</a>
</div>
<div class="hud-status">
  üë§ Nome: Visitante<br>
  üïí Tempo em call: 00:00<br>
  ü™ô Xaracoins: 0000
</div>
<div class="scan-line"></div>

<script>
  const loginOverlay = document.getElementById("loginOverlay");
  const entrarBtn = document.getElementById("entrarBtn");
  const barraAnimada = document.getElementById("barraAnimada");

  const efeitoCompleto = new Audio("https://cdn.pixabay.com/download/audio/2022/10/10/audio_f1fba872a8.mp3?filename=completed-108718.mp3");

  let progresso = 0;
  const animarBarra = setInterval(() => {
    progresso += 1;
    barraAnimada.style.width = progresso + "%";
    if (progresso >= 100) {
      clearInterval(animarBarra);
      efeitoCompleto.play();

      const falaFinal = new SpeechSynthesisUtterance("Pronto! Pode entrar na Dimens√£o Arla!");
      falaFinal.lang = 'pt-BR';
      speechSynthesis.speak(falaFinal);

      entrarBtn.style.display = "inline-block";
    }
  }, 20);

  entrarBtn.addEventListener("click", () => {
  efeitoCompleto.volume = 1;
  efeitoCompleto.play().catch(err => console.log("Erro ao tocar som:", err));

  loginOverlay.style.opacity = "0";
  setTimeout(() => {
    loginOverlay.style.display = "none";
  }, 600);
});
<script>
  fetch("/api/me")
    .then(res => {
      if (res.status === 401) {
        window.location.href = "/login";
      }
    });
</script>
</body>
</html>